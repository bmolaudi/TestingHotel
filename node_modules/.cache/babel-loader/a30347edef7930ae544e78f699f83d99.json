{"ast":null,"code":"var _jsxFileName = \"C:\\\\test_hotel\\\\src\\\\components\\\\rooms\\\\imgUploader.js\";\nimport React, { Component } from 'react';\nimport firebase from 'firebase';\n\nclass Uploader extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      const file = e.target.files[0];\n\n      if (file) {\n        this.setState({\n          image: file,\n          uploadError: \"\"\n        });\n        console.log(file.name);\n        console.log(\"Successful image upload\");\n      } else {\n        this.setState({\n          uploadError: \"Please select an image tp upload\"\n        });\n      }\n    };\n\n    this.handleUpload = () => {\n      const file = this.state.image;\n\n      if (file) {\n        const storageRef = firebase.storage().ref(\"images/\" + file.name);\n        const uploadtTask = storageRef.put(file);\n        uploadtTask.on(firebase.storage.TaskEvent.STATE_CHANGED, () => {\n          const downloadURL = uploadtTask.snapshot.d;\n        });\n      } else {\n        this.setState({\n          uploadError: \"select an image to upload\"\n        });\n      }\n    };\n\n    this.state = {\n      image: null,\n      url: \"\",\n      uploadError: \"\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn red lighten-2 z-depth-0\",\n      onClick: this.handleUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }, \"Upload\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"red-text center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, this.state.uploadError));\n  }\n\n}\n\nexport default Uploader;","map":{"version":3,"sources":["C:/test_hotel/src/components/rooms/imgUploader.js"],"names":["React","Component","firebase","Uploader","constructor","props","handleChange","e","file","target","files","setState","image","uploadError","console","log","name","handleUpload","state","storageRef","storage","ref","uploadtTask","put","on","TaskEvent","STATE_CHANGED","downloadURL","snapshot","d","url","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,UAArB;;AAEA,MAAMC,QAAN,SAAuBF,SAAvB,CAAiC;AAE7BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,YARmB,GAQHC,CAAD,IAAO;AAClB,YAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;;AACA,UAAIF,IAAJ,EAAU;AACN,aAAKG,QAAL,CAAc;AACVC,UAAAA,KAAK,EAAEJ,IADG;AAEVK,UAAAA,WAAW,EAAE;AAFH,SAAd;AAIAC,QAAAA,OAAO,CAACC,GAAR,CAAYP,IAAI,CAACQ,IAAjB;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACH,OAPD,MAOO;AACH,aAAKJ,QAAL,CAAc;AACVE,UAAAA,WAAW,EAAE;AADH,SAAd;AAGH;AACJ,KAtBkB;;AAAA,SAuBnBI,YAvBmB,GAuBJ,MAAM;AACjB,YAAMT,IAAI,GAAI,KAAKU,KAAL,CAAWN,KAAzB;;AACA,UAAIJ,IAAJ,EAAU;AACN,cAAMW,UAAU,GAAGjB,QAAQ,CAACkB,OAAT,GAAmBC,GAAnB,CAAuB,YAAYb,IAAI,CAACQ,IAAxC,CAAnB;AACA,cAAMM,WAAW,GAAGH,UAAU,CAACI,GAAX,CAAef,IAAf,CAApB;AACAc,QAAAA,WAAW,CAACE,EAAZ,CAAetB,QAAQ,CAACkB,OAAT,CAAiBK,SAAjB,CAA2BC,aAA1C,EACI,MAAM;AACN,gBAAMC,WAAW,GAAGL,WAAW,CAACM,QAAZ,CAAqBC,CAAzC;AACH,SAHD;AAIH,OAPD,MAOO;AACH,aAAKlB,QAAL,CAAc;AACVE,UAAAA,WAAW,EAAE;AADH,SAAd;AAGH;AACJ,KArCkB;;AAEf,SAAKK,KAAL,GAAa;AACTN,MAAAA,KAAK,EAAE,IADE;AAETkB,MAAAA,GAAG,EAAE,EAFI;AAGTjB,MAAAA,WAAW,EAAE;AAHJ,KAAb;AAKH;;AA+BDkB,EAAAA,MAAM,GAAG;AACL,wBACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAKzB,YAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAQ,MAAA,SAAS,EAAC,6BAAlB;AAAgD,MAAA,OAAO,EAAE,KAAKW,YAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CADF,eAQE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkC,KAAKC,KAAL,CAAWL,WAA7C,CARF,CADF;AAYH;;AArD4B;;AAwDjC,eAAeV,QAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport firebase from 'firebase';\r\n\r\nclass Uploader extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            image: null,\r\n            url: \"\",\r\n            uploadError: \"\"\r\n        };\r\n    }\r\n    handleChange = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n            this.setState({\r\n                image: file,\r\n                uploadError: \"\"\r\n            });\r\n            console.log(file.name);\r\n            console.log(\"Successful image upload\");\r\n        } else {\r\n            this.setState({\r\n                uploadError: \"Please select an image tp upload\"\r\n            })\r\n        }\r\n    }\r\n    handleUpload = () => {\r\n        const file  = this.state.image;\r\n        if (file) {\r\n            const storageRef = firebase.storage().ref(\"images/\" + file.name);\r\n            const uploadtTask = storageRef.put(file);\r\n            uploadtTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\r\n                () => {\r\n                const downloadURL = uploadtTask.snapshot.d\r\n            })\r\n        } else {\r\n            this.setState({\r\n                uploadError: \"select an image to upload\"\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n          <div className=\"container center\">\r\n            <div>\r\n              <input type=\"file\" onChange={this.handleChange} />\r\n              <button className=\"btn red lighten-2 z-depth-0\" onClick={this.handleUpload}>\r\n                Upload\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"red-text center\">{this.state.uploadError}</div>\r\n          </div>\r\n        );\r\n    }\r\n    \r\n}\r\nexport default Uploader;"]},"metadata":{},"sourceType":"module"}